<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WASM Exercise Generator</title>
</head>
<body>
    <h1>Random Exercise Generator</h1>

    <label for="minutes">Select duration (minutes):</label>
    <select id="minutes">
        <option value="5">5 minutes</option>
        <option value="10">10 minutes</option>
        <option value="15">15 minutes</option>
    </select>

    <button id="generate">Generate Exercise Program</button>

    <div id="exercise-program"></div>

    <!-- Add your script to initialize the WASM module -->
    <script type="module">
        // Import the WASM module (make sure the path is correct)
        import init, { generate_program } from "./pkg/project.js";

        // Initialize the WASM module
        async function run() {
            await init();  // Initialize the WASM module
            console.log("WASM module loaded successfully.");
            
            const button = document.getElementById('generate');
            const minutesSelect = document.getElementById('minutes');
            const programDiv = document.getElementById('exercise-program');
            
            // Attach event listener to the button
            button.addEventListener('click', () => {
                const minutes = parseInt(minutesSelect.value);
                const program = generate_program(minutes);  // Call the WASM function
                programDiv.innerText = program;  // Display the program in the div
            });
        }

        // Run the function to load WASM
        run();
    </script>
</body>
</html>
